<html>
    <head>
        <title>Simple Substitution Cipher Decryption</title>

        <script>
            
            function Decrypt(f)
            { 
                ciphertext = document.getElementById("c").value.toLowerCase();  
                key = document.getElementById("key").value.toLowerCase().replace(/[^a-z]/g, ""); 
                if(ciphertext.length < 1)
                { 
                    alert("please enter some ciphertext (letters only)"); 
                    return; 
                }    
                if(key.length != 26)
                { 
                    alert("key must be 26 characters in length"); 
                    return; 
                }
                plaintext = ""; var re = /[a-z]/; 
                for(i=0; i<ciphertext.length; i++)
                { 
                    if(re.test(ciphertext.charAt(i))) plaintext += String.fromCharCode(key.indexOf(ciphertext.charAt(i))+97); 
                    else  plaintext += ciphertext.charAt(i); 
                } 
                document.getElementById("p").value = plaintext; 
            } 
        
            function GenRandKey()
            { 
                var keychars = "abcdefghijklmnopqrstuvwxyz"; 
                var chars = keychars.split(""); 
                ret=""; lim = chars.length; 
                for(i=0; i<lim; i++)
                { 
                    index = Math.floor(chars.length*Math.random()); 
                    ret += chars[index]; 
                    chars.splice(index,1); 
                } 
                document.getElementById("key").value = ret; 
            } 
        </script>

    </head>

    <body>
        <center>
            <form>
                <table>
                    <tr>
                        <td>
                            Enter the Cipher Text :
                        </td>
                        <td>
                            <textarea id="c" name="c" rows= "3" cols= "33" placeholder="Enter the Cipher Text"></textarea>
                        </td>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                        <td>
                            Enter the Key : 
                        </td>
                        <td>
                            <textarea id="key" name="key" rows= "1" cols= "33" placeholder="Enter a 26 length unique key"></textarea>
                        </td>   
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                    </tr>
                    <tr>
                        <td>
                            <center>
                            <input type="button" name="genKey" id="genKey" value="Generate Random Key" onclick="GenRandKey();">
                            </center>
                        </td>
                        <td>
                            <center>
                            <input type="button" name="btnEn" value="Decrypt" onclick="Decrypt();">
                            </center>
                        </td>
                    </tr>
                </table>
               
                <br>
                <textarea id="p" name="p" rows= "3" cols= "55" placeholder="Get the Plain Text here"></textarea>

          </form>
        </center>
    </body>
</html>